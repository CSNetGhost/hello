# ****************************************************************************
# CUI
#
# The Advanced Framework for Simulation, Integration, and Modeling (AFSIM)
#
# Copyright 2020 The Boeing Company. All rights reserved.
#
# The use, dissemination or disclosure of data in this file is subject to
# limitation or restriction. See accompanying README and LICENSE for details.
# ****************************************************************************

# should be a script compilation error due to int-returning script not returning anything.
script_expect_error true
script int MissingReturn()
   int retval = 5;
end_script

# should be a script compilation error due to int-returning script not returning anything.
script_expect_error true
script int MissingReturn2(int i)
   if (i==1)
   {
      int retval = 6;
      return retval;
   }
   else if (i==2)
   {
      //return 5; // error expected here
   }
   else
   {
      int retval = 2;
      return retval;
   }
end_script

script_expect_error true
script int MissingReturn3(int i)
   if (i==1)
      while(i==2) { return 2; }
end_script

script_expect_error false
script int GoodReturnFromBrackets(int i)
   if (i==1)
   {
      int retval = 6;
      return retval;
   }
   else
   {
      {}
      { return 5;}
   }
end_script

script_expect_error true
script int MissingReturnNoBracketElse(int i)
   if (i==1)
   {
      int retval = 6;
      return retval;
   }
   else int retval = 0;
end_script

script_expect_error false
script int GoodReturnFromScopedBrackets(int i)
   if (i==1)
   {
      int retval = 6;
      return retval;
   }
   else if (i==2)
   {
      int retval =6;
      { return 5;}
   }
   else
      return 2;
end_script

script_expect_error true
script int MissingReturnEmptyBlock()
end_script

script_expect_error true
script int MissingReturnJustBrackets()
{ }
end_script

script_expect_error false
script int ValidScopingBrackets()
{ { { return 0; } } }
end_script

script_expect_error false
script int AnotherTest()
{ 
 {}
 { return 1; }
}
end_script

script_expect_error false
script int AnotherTest2()
{ 
 writeln("Test");
 { return 1; }
}
end_script