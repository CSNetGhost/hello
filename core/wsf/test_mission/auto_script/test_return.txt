# ****************************************************************************
# CUI
#
# The Advanced Framework for Simulation, Integration, and Modeling (AFSIM)
#
# Copyright 2021 The Boeing Company. All rights reserved.
#
# The use, dissemination or disclosure of data in this file is subject to
# limitation or restriction. See accompanying README and LICENSE for details.
# ****************************************************************************

# Tests a rare-edge case in the compilers stack space
# allocation where the the slot allocated for a 
# temporary argument to call a script can not be
# recycled  as the slot for the return value.

script_variables
   Vec3 v = Vec3.Construct(0,0,0);
end_script_variables

script Vec3 Identity(Vec3 a)
   return a;
end_script

on_initialize
   v = Identity(v);
   writeln("-PASS-"); # didn't segfault, therefore pass
end_on_initialize