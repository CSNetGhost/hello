# ****************************************************************************
# CUI
#
# The Advanced Framework for Simulation, Integration, and Modeling (AFSIM)
#
# The use, dissemination or disclosure of data in this file is subject to
# limitation or restriction. See accompanying README and LICENSE for details.
# ****************************************************************************

# This file tests that the mover reroutes after SetLocation() is called
include_once ../auto_script/test_functions.txt

#script_listing on

platform plat_type WSF_PLATFORM
   icon 737
   side blue
   add mover WSF_AIR_MOVER
      update_interval 1.0 s
      #maximum_radial_acceleration 1 g
   end_mover
   route
      position 0n 0e speed 1 m/s
      position 1n 0e
   end_route
   execute at_time 200 s absolute
      SetLocation(0,1,0);
   end_execute
   execute at_time 205 s absolute
      # heading 0n 1e -> 1n 0e is about -45 deg
      double headingError = MATH.Fabs(Heading() + 45);
      if (headingError > 1)
      {
         writeln("-FAIL- Did not continue route correctly");
      }
      DeletePlatform();
   end_execute
end_platform

end_time 210 s




