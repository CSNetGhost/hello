# ****************************************************************************
# CUI
#
# The Advanced Framework for Simulation, Integration, and Modeling (AFSIM)
#
# The use, dissemination or disclosure of data in this file is subject to
# limitation or restriction. See accompanying README and LICENSE for details.
# ****************************************************************************

//! Tests the OSPF initialization procedure and
//! rules for backbone declaration and connectivity.
//! Adding additional backbone definitions, or
//! removing those that exist will cause a failure.

//! Multicast is needed to avoid warnings
protocol IGMP WSF_COMM_PROTOCOL_IGMP
end_protocol

comm test_comm WSF_COMM_TRANSCEIVER
   add protocol multicast IGMP
   end_protocol
end_comm

router_protocol test_ospf WSF_COMM_ROUTER_PROTOCOL_OSPF
end_router_protocol

router DEFAULT WSF_COMM_ROUTER
   add router_protocol localOSPF test_ospf 
   end_router_protocol
end_router

platform_type test_platform WSF_PLATFORM
   add comm test test_comm
   end_comm
   add router default DEFAULT
   end_router
end_platform_type

platform test1 test_platform
   edit router default
      edit router_protocol localOSPF
         ospf_area 1.1.1.1/32
         backbone 1.1.1.1/32
      end_router_protocol
   end_router
end_platform

platform test2 test_platform
   edit router default
      edit router_protocol localOSPF
         ospf_area 1.1.1.1/32
      end_router_protocol
   end_router
end_platform

platform test3 test_platform
   edit router default
      edit router_protocol localOSPF
         ospf_area 1.1.1.1/32
      end_router_protocol
   end_router
end_platform

platform test4 test_platform
   edit router default
      edit router_protocol localOSPF
         ospf_area 1.1.1.1/32
      end_router_protocol
   end_router
end_platform

platform test5 test_platform
   edit router default
      edit router_protocol localOSPF
         ospf_area 1.1.1.1/32
         ospf_area 1.1.1.2/32
      end_router_protocol
   end_router
end_platform

platform test8 test_platform
   edit router default
      edit router_protocol localOSPF
         ospf_area 1.1.1.2/32
      end_router_protocol
   end_router
end_platform

platform test9 test_platform
   edit router default
      edit router_protocol localOSPF
         ospf_area 1.1.1.5/32
         ospf_area 1.1.1.1/32
      end_router_protocol
   end_router
end_platform

platform test10 test_platform
   edit router default
      edit router_protocol localOSPF
         ospf_area 1.1.1.5/32
      end_router_protocol
   end_router
end_platform

platform test6 test_platform
   edit router default
      edit router_protocol localOSPF
         ospf_area 1.1.1.3/32
         ospf_area 1.1.1.4/32
      end_router_protocol
   end_router
end_platform

platform test7 test_platform
   edit router default
      edit router_protocol localOSPF
         ospf_area 1.1.1.4/32
         backbone 1.1.1.4/32
      end_router_protocol
   end_router
end_platform