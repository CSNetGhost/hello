# ****************************************************************************
# CUI//REL TO USA ONLY
#
# The Advanced Framework for Simulation, Integration, and Modeling (AFSIM)
#
# The use, dissemination or disclosure of data in this file is subject to
# limitation or restriction. See accompanying README and LICENSE for details.
# ****************************************************************************

test_feature brawler

file_path .
file_path ../data

end_time 20 seconds

include_once brawler_fighter.txt
include_once brawler_commander.txt

platform_type BRAWLER_TESTER BRAWLER_FIGHTER
   edit processor task_mgr
      behavior_tree
         behavior_node  alt3911_evade_missile
      end_behavior_tree
   end_processor
end_platform_type

#this test is special in that the target is required to
#shoot at all the testers so they have something to evade
include_once aim-9x.txt
platform_type BRAWLER_TARGET WSF_PLATFORM
   side red
   icon SU-27
   mover WSF_AIR_MOVER end_mover
   weapon aim-9x AIM-9X
      quantity 3000
   end_weapon
   processor data_mgr WSF_TRACK_PROCESSOR
      master_track_processor
   end_processor
   sensor geo_sensor WSF_GEOMETRIC_SENSOR
      on
      azimuth_field_of_view   -180.0 degrees  180.0 degrees
      elevation_field_of_view  -90.0 degrees   90.0 degrees
      maximum_range 10 nm
      frame_time    0.1 sec
      reports_location
      reports_velocity
      track_quality 1.0
      internal_link data_mgr
      ignore_same_side
   end_sensor
   execute at_time 1.0 sec absolute
      WsfWeapon weapon = PLATFORM.Weapon("aim-9x");
      foreach(WsfLocalTrack target in PLATFORM.MasterTrackList())
      {
            weapon.Fire(target);
      }
   end_execute
end_platform_type

include_once laydown_alt_tests.txt

#dis_interface
#   record                      alt_test.rep
#   mover_update_timer          1.0 sec
#   entity_position_threshold   0.03 m
#end_dis_interface

#event_output
#   file   alt_test.evt
#   enable BTREE_NODE_CHILDREN
#   enable BTREE_NODE_EXEC
#end_event_output

