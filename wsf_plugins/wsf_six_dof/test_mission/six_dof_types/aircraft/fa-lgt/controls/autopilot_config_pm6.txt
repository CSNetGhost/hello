# ****************************************************************************
# CUI
#
# The Advanced Framework for Simulation, Integration, and Modeling (AFSIM)
#
# The use, dissemination or disclosure of data in this file is subject to
# limitation or restriction. See accompanying README and LICENSE for details.
# ****************************************************************************

# ##################################################################################################
# 
# This file was auto-generated by the P6DOF Tuner Plug-In for AFSIM Warlock.
# 
# Creation Date:  06 Apr 2020
# 
# ##################################################################################################

# **************************************************************************************************
# This file defines the configuration of the autopilot, including its PIDs. A PID is a proportional,
# integral, derivative feedback control technique. Multiple PIDs are used to 'define' the autopilot.
# Each control output may be influenced by one or more PIDs.
# **************************************************************************************************

autopilot_config

  control_method                    BANK_TO_TURN_WITH_YAW

  # ------------------------------------------------------------

  pid_group

    pid_altitude
      kp 7.44406
      ki 0.74806
      kd 0.2
      max_error_accum 100
    end_pid_altitude

    pid_bank_angle
      kp 2.5
      ki 0
      kd 0.01
      max_error_accum 0
      low_pass_alpha 0.5
    end_pid_bank_angle

    pid_delta_pitch
      kp 0.836492
      ki 0.694051
      max_error_accum 0.5
    end_pid_delta_pitch

    pid_delta_roll
      kp 2
      ki 0
      kd 0.01
      max_error_accum 0
    end_pid_delta_roll

    pid_flightpath_angle
      kp 2.39429
      ki 1.14449
      kd 0.0509812
      max_error_accum 0.5
    end_pid_flightpath_angle

    pid_forward_accel
      kp 20
      ki 2
      kd 0
      max_error_accum 1
    end_pid_forward_accel

    pid_pitch_angle
      kp 0.836492
      ki 0.694051
      max_error_accum 0.5
    end_pid_pitch_angle

    pid_pitch_rate
      kp 0.064873
      ki 1.68004e-05
      max_error_accum 0
    end_pid_pitch_rate

    pid_roll_heading
      kp 0.218918
      ki 0.000224949
      max_error_accum 2
      low_pass_alpha 0.5
    end_pid_roll_heading

    pid_speed
      kp 0.2
      ki 0.01
      kd 0.001
      max_error_accum 10
      low_pass_alpha 0.5
    end_pid_speed

    pid_vert_speed
      kp 0.005
      ki 0.000454646
      max_error_accum 60
      ignore_large_error_accum 500
      low_pass_alpha 0.5
    end_pid_vert_speed

    pid_yaw_heading
      kp 0.210933
      ki 4.87967e-08
      kd 1.09535
      max_error_accum 1
    end_pid_yaw_heading

    pid_yaw_rate
      kp 1.91375e-05
      ki 3.02441
      kd 4.23386e-07
      max_error_accum 1
    end_pid_yaw_rate

    limits_and_settings
      include autopilot_config_g_limits.txt
      afterburner_threshold       1
      speedbrake_threshold        0
      alpha_min                   -16
      alpha_max                   20
      pitch_rate_min              -10
      pitch_rate_max              40
      vert_speed_min              -15000
      vert_speed_max              15000
      beta_max                    10
      yaw_rate_max                5
      roll_rate_max               180
      bank_angle_max              60
      forward_accel_min           -1
      forward_accel_max           2
      turn_roll_in_multiplier     4         # This can be manually 'tuned' for improved performance
      route_allowable_angle_error 5 deg     # This can be manually 'tuned' for improved performance
    end_limits_and_settings

  end_pid_group

end_autopilot_config

